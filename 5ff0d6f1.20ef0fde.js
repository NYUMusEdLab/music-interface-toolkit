(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{80:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return j})),n.d(t,"metadata",(function(){return y})),n.d(t,"rightToc",(function(){return O})),n.d(t,"lydianDom",(function(){return g})),n.d(t,"default",(function(){return v}));var r=n(2),a=n(6),i=n(0),c=n.n(i),o=n(84),l=n(97),s=n(82),u=n(83),p=n(94),b=n(95),m=n(65),d=n.n(m);function h(e){var t=e.className;if(t=Object(s.a)(t,d.a.pitch),"children"in e){if("string"!=typeof e.children)throw new Error("Child of pitch label should be a pitch string");var n=Object(u.e)(e.children);if(n.empty)throw new Error("Unrecognized pitch string: "+e.children);var r=n.pc,a=n.oct;return c.a.createElement("span",{className:t},c.a.createElement(f,null,r),a)}if("midi"in e){for(var i,o=e.midi,b=e.pitchClass,m=void 0!==b&&b,h=e.scale,j=void 0===h?[]:h,y=e.enharmonic,O=void 0===y?"sharp":y,g=m?null:Math.floor(e.midi/12),P=Object(l.a)(j);!(i=P()).done;){var v=i.value,w=Object(u.e)(v);if(!w.empty&&w.chroma===o%12){var N=w.pc;return c.a.createElement("span",{className:t},c.a.createElement(f,null,N),g)}}if("sharp"===O||"flat"===O){var M=Object(p.b)(o,{sharps:"sharp"===O,pitchClass:!0});return c.a.createElement("span",{className:t},c.a.createElement(f,null,M),g)}var C=Object(p.b)(o,{sharps:!0,pitchClass:!0}),E=Object(p.b)(o,{sharps:!1,pitchClass:!0});return c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:t},c.a.createElement(f,null,C),g),C!==E?c.a.createElement("span",{className:t},c.a.createElement(f,null,E),g):null)}throw new Error("Pitch must either have a pitch string child or a midi value")}function f(e){var t=e.children,n=Object(u.e)(t);if(n.empty)throw new Error;var r=n.letter,a=n.alt;if(a<-3||a>3){var i=r+(a>0?"#".repeat(a):"b".repeat(-a));throw new Error("Pitch "+i+" has too many accidentals")}return c.a.createElement(c.a.Fragment,null,r,0!==a?c.a.createElement(b.a,{alter:a,className:d.a.accidental}):null)}var j={title:"Pitch"},y={unversionedId:"pitch",id:"pitch",isDocsHomePage:!1,title:"Pitch",description:"`js",source:"@site/../packages/symbols/docs/pitch.mdx",slug:"/pitch",permalink:"/music-interface-toolkit/symbols/pitch",editUrl:"https://github.com/NYUMusEdLab/music-interface-toolkit/edit/master/packages/../packages/symbols/docs/pitch.mdx",version:"current",sidebar:"docs",previous:{title:"Overview",permalink:"/music-interface-toolkit/symbols/"},next:{title:"Accidental",permalink:"/music-interface-toolkit/symbols/accidental"}},O=[{value:"Basic Use",id:"basic-use",children:[]},{value:"Use With Numeric Pitches",id:"use-with-numeric-pitches",children:[{value:"Enharmonics",id:"enharmonics",children:[]},{value:"Ambiguous Enharmonics",id:"ambiguous-enharmonics",children:[]},{value:"Scales",id:"scales",children:[]}]}],g=["C","D","E","F#","G","A","Bb"],P={rightToc:O,lydianDom:g};function v(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},P,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"import { Pitch } from '@musedlab/symbols/pitch';\n")),Object(o.b)("h2",{id:"basic-use"},"Basic Use"),Object(o.b)("p",null,'In its simplest use, the Pitch component can be used to wrap the name of a pitch\nand replace pseudo accidental symbols ("#" and "b") with the correct musical\nsymbols. It supports upper and lower-case pitch letters, accidentals from triple\nflat to triple sharp, and an optional octave number. If you try some other text,\nit will throw an error.'),Object(o.b)("p",null,"A few examples:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"<Pitch>d6</Pitch>")," ","\u2192"," ",Object(o.b)(h,{mdxType:"Pitch"},"d6")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"<Pitch>C#</Pitch>")," ","\u2192"," ",Object(o.b)(h,{mdxType:"Pitch"},"C#")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"<Pitch>Gb4</Pitch>")," ","\u2192"," ",Object(o.b)(h,{mdxType:"Pitch"},"Gb4")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"<Pitch>bbb6</Pitch>")," ","\u2192"," ",Object(o.b)(h,{mdxType:"Pitch"},"bbb6")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"<Pitch>D###</Pitch>")," ","\u2192"," ",Object(o.b)(h,{mdxType:"Pitch"},"D###"))),Object(o.b)("h2",{id:"use-with-numeric-pitches"},"Use With Numeric Pitches"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"<Pitch midi={7} />")," ","\u2192"," ",Object(o.b)(h,{midi:7,mdxType:"Pitch"})),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"<Pitch midi={7} pitchClass />")," ","\u2192"," ",Object(o.b)(h,{midi:7,pitchClass:!0,mdxType:"Pitch"}))),Object(o.b)("h3",{id:"enharmonics"},"Enharmonics"),Object(o.b)("p",null,"Non-natural notes are written using sharps by default, but you can use the\noptional ",Object(o.b)("inlineCode",{parentName:"p"},"enharmonic")," prop to specify which spelling of the note name to use:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"<Pitch midi={66}")," /> ","\u2192"," ",Object(o.b)(h,{midi:66,mdxType:"Pitch"})),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},'<Pitch midi={66} enharmonic="sharp" />')," ","\u2192",Object(o.b)(h,{midi:66,enharmonic:"sharp",mdxType:"Pitch"})),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},'<Pitch midi={66} enharmonic="flat" />')," ","\u2192",Object(o.b)(h,{midi:66,enharmonic:"flat",mdxType:"Pitch"}))),Object(o.b)("h3",{id:"ambiguous-enharmonics"},"Ambiguous Enharmonics"),Object(o.b)("p",null,"You can also set ",Object(o.b)("inlineCode",{parentName:"p"},'enharmonic="both"')," to render both enharmonics"),Object(o.b)("h3",{id:"scales"},"Scales"),Object(o.b)("p",null,"Another way to control spelling is to pass an array of pitches to the ",Object(o.b)("inlineCode",{parentName:"p"},"scale"),"\nprop. For example, if you've defined the following scale:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"// Lydian Dominant in C\nconst lydianDom = ['C', 'D', 'E', 'F#', 'G', 'A', 'Bb'];\n")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"<Pitch midi={66} scale={lydianDom} />"),' will render\n"',Object(o.b)(h,{midi:66,scale:g,mdxType:"Pitch"}),'", while\n',Object(o.b)("inlineCode",{parentName:"p"},"<Pitch midi={70} scale={lydianDom} />"),' will render\n"',Object(o.b)(h,{midi:70,scale:g,mdxType:"Pitch"}),'"'))}v.isMDXComponent=!0},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return P})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return w}));const r=(e,t)=>Array(Math.abs(t)+1).join(e);function a(e,t,n){return function(...r){return console.warn(`${e} is deprecated. Use ${t}.`),n.apply(this,r)}}function i(e){return null!==e&&"object"==typeof e&&"string"==typeof e.name}function c(e){return null!==e&&"object"==typeof e&&"number"==typeof e.step&&"number"==typeof e.alt}const o=[0,2,4,-1,1,3,5],l=o.map(e=>Math.floor(7*e/12));function s(e){const{step:t,alt:n,oct:r,dir:a=1}=e,i=o[t]+7*n;if(void 0===r)return[a*i];return[a*i,a*(r-l[t]-4*n)]}const u=[3,0,4,1,5,2,6];function p(e){const[t,n,r]=e,a=u[function(e){const t=(e+1)%7;return t<0?7+t:t}(t)],i=Math.floor((t+1)/7);if(void 0===n)return{step:a,alt:i,dir:r};return{step:a,alt:i,oct:n+4*i+l[a],dir:r}}const b={empty:!0,name:"",pc:"",acc:""},m=new Map;function d(e){const t=m.get(e);if(t)return t;const n="string"==typeof e?function(e){const t=function(e){const t=h.exec(e);return[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]}(e);if(""===t[0]||""!==t[3])return b;const n=t[0],r=t[1],a=t[2],i=(n.charCodeAt(0)+3)%7,c=(e=>"b"===e[0]?-e.length:e.length)(r),o=a.length?+a:void 0,l=s({step:i,alt:c,oct:o}),u=n+r+a,p=n+r,m=(j[i]+c+120)%12,d=void 0===o?(O=j[i]+c,g=12,(O%g+g)%g-1188):j[i]+c+12*(o+1),f=d>=0&&d<=127?d:null,y=void 0===o?null:440*Math.pow(2,(d-69)/12);var O,g;return{empty:!1,acc:r,alt:c,chroma:m,coord:l,freq:y,height:d,letter:n,midi:f,name:u,oct:o,pc:p,step:i}}(e):c(e)?d(function(e){const{step:t,alt:n,oct:a}=e,i=(e=>"CDEFGAB".charAt(e))(t);if(!i)return"";const c=i+(e=>e<0?r("b",-e):r("#",e))(n);return a||0===a?c+a:c}(e)):i(e)?d(e.name):b;return m.set(e,n),n}const h=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function f(e){return d(p(e))}const j=[0,2,4,5,7,9,11];const y={empty:!0,name:"",acc:""},O=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");const g={};function P(e){return"string"==typeof e?g[e]||(g[e]=function(e){const t=function(e){const t=O.exec(""+e);return null===t?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}(e);if(""===t[0])return y;const n=+t[0],r=t[1],a=(Math.abs(n)-1)%7,i="PMMPPMM"[a];if("M"===i&&"P"===r)return y;const c="M"===i?"majorable":"perfectable",o=""+n+r,l=n<0?-1:1,u=8===n||-8===n?n:l*(a+1),p=function(e,t){return"M"===t&&"majorable"===e||"P"===t&&"perfectable"===e?0:"m"===t&&"majorable"===e?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*("perfectable"===e?t.length:t.length+1):0}(c,r),b=Math.floor((Math.abs(n)-1)/7),m=l*(v[a]+p+12*b),d=(l*(v[a]+p)%12+12)%12,h=s({step:a,alt:p,oct:b,dir:l});return{empty:!1,name:o,num:n,q:r,step:a,alt:p,dir:l,type:c,simple:u,semitones:m,chroma:d,coord:h,oct:b}}(e)):c(e)?P(function(e){const{step:t,alt:n,oct:a=0,dir:i}=e;if(!i)return"";return(i<0?"-":"")+(t+1+7*a)+function(e,t){return 0===t?"majorable"===e?"M":"P":-1===t&&"majorable"===e?"m":t>0?r("A",t):r("d","perfectable"===e?t:t+1)}("M"==="PMMPPMM"[t]?"majorable":"perfectable",n)}(e)):i(e)?P(e.name):y}const v=[0,2,4,5,7,9,11];function w(e,t){const n=d(e),r=P(t);if(n.empty||r.empty)return"";const a=n.coord,i=r.coord;return f(1===a.length?[a[0]+i[0]]:[a[0]+i[0],a[1]+i[1]]).name}function N(e,t){const n=d(e),r=d(t);if(n.empty||r.empty)return"";const a=n.coord,i=r.coord,c=i[0]-a[0];return function(e){const[t,n=0]=e;return P(p(7*t+12*n<0?[-t,-n,-1]:[t,n,1]))}([c,2===a.length&&2===i.length?i[1]-a[1]:-Math.floor(7*c/12)]).name}},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l}));n(83);const r=Math.log(2),a=Math.log(440);function i(e){const t=12*(Math.log(e)-a)/r+69;return Math.round(100*t)/100}const c="C C# D D# E F F# G G# A A# B".split(" "),o="C Db D Eb E F Gb G Ab A Bb B".split(" ");function l(e,t={}){if(isNaN(e)||e===-1/0||e===1/0)return"";e=Math.round(e);const n=(!0===t.sharps?c:o)[e%12];if(t.pitchClass)return n;return n+(Math.floor(e/12)-1)}},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(2);var r=n(0),a=n.n(r),i=n(82),c=(n(51),n(52)),o=n.n(c),l=new Map([[-3,"\ued66"],[-2,"\ued64"],[-1,"\ued60"],[0,"\ued61"],[1,"\ued62"],[2,"\ued63"],[3,"\ued65"]]);new Map([[-3,"triple flat"],[-2,"double flat"],[-1,"flat"],[0,"natural"],[1,"sharp"],[2,"double sharp"],[3,"triple sharp"]]);function s(e){var t=e.alter,n=e.className;if(!l.has(t))throw new Error("Unsupported accidental: alter="+t);return a.a.createElement("span",{className:Object(i.a)(o.a.accidental,n)},l.get(t))}},97:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}n.d(t,"a",(function(){return a}))}}]);