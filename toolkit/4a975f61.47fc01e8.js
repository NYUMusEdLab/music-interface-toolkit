(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{62:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return $})),n.d(t,"metadata",(function(){return q})),n.d(t,"rightToc",(function(){return U})),n.d(t,"default",(function(){return X}));var a=n(2),r=n(6),c=n(0),i=n.n(c),o=n(81);n(59);function s(e){return"object"==typeof e&&"string"==typeof e.name}function l(e){return"object"==typeof e&&"number"==typeof e.step&&"number"==typeof e.alt}const u=[0,2,4,-1,1,3,5],d=u.map(e=>Math.floor(7*e/12));function m(e){const{step:t,alt:n,oct:a,dir:r=1}=e,c=u[t]+7*n;if(void 0===a)return[r*c];return[r*c,r*(a-d[t]-4*n)]}const f=[3,0,4,1,5,2,6];function h(e){const[t,n,a]=e,r=f[function(e){const t=(e+1)%7;return t<0?7+t:t}(t)],c=Math.floor((t+1)/7);if(void 0===n)return{step:r,alt:c,dir:a};return{step:r,alt:c,oct:n+4*c+d[r],dir:a}}const p={empty:!0,name:"",pc:"",acc:""},b={},g=(e,t)=>Array(t+1).join(e);function M(e){return"string"==typeof e?b[e]||(b[e]=function(e){const t=function(e){const t=v.exec(e);return[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]}(e);if(""===t[0]||""!==t[3])return p;const n=t[0],a=t[1],r=t[2],c=(n.charCodeAt(0)+3)%7,i=(e=>"b"===e[0]?-e.length:e.length)(a),o=r.length?+r:void 0,s=m({step:c,alt:i,oct:o}),l=n+a+r,u=n+a,d=(E[c]+i+120)%12,f=void 0===o?-100:o,h=E[c]+i+12*(f+1),b=h>=0&&h<=127?h:null,g=void 0===o?null:440*Math.pow(2,(h-69)/12);return{empty:!1,acc:a,alt:i,chroma:d,coord:s,freq:g,height:h,letter:n,midi:b,name:l,oct:o,pc:u,step:c}}(e)):l(e)?M(function(e){const{step:t,alt:n,oct:a}=e,r=(e=>"CDEFGAB".charAt(e))(t);if(!r)return"";const c=r+(e=>e<0?g("b",-e):g("#",e))(n);return a||0===a?c+a:c}(e)):s(e)?M(e.name):p}const v=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;const E=[0,2,4,5,7,9,11];const y={empty:!0,name:"",acc:""},x=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");const j={};function A(e){return"string"==typeof e?j[e]||(j[e]=function(e){const t=function(e){const t=x.exec(""+e);return null===t?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}(e);if(""===t[0])return y;const n=+t[0],a=t[1],r=(Math.abs(n)-1)%7,c="PMMPPMM"[r];if("M"===c&&"P"===a)return y;const i="M"===c?"majorable":"perfectable",o=""+n+a,s=n<0?-1:1,l=8===n||-8===n?n:s*(r+1),u=function(e,t){return"M"===t&&"majorable"===e||"P"===t&&"perfectable"===e?0:"m"===t&&"majorable"===e?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*("perfectable"===e?t.length:t.length+1):0}(i,a),d=Math.floor((Math.abs(n)-1)/7),f=s*(k[r]+u+12*d),h=(s*(k[r]+u)%12+12)%12,p=m({step:r,alt:u,oct:d,dir:s});return{empty:!1,name:o,num:n,q:a,step:r,alt:u,dir:s,type:i,simple:l,semitones:f,chroma:h,coord:p,oct:d}}(e)):l(e)?A(function(e){const{step:t,alt:n,oct:a=0,dir:r}=e;if(!r)return"";return(r<0?"-":"")+(t+1+7*a)+function(e,t){return 0===t?"majorable"===e?"M":"P":-1===t&&"majorable"===e?"m":t>0?w("A",t):w("d","perfectable"===e?t:t+1)}("M"==="PMMPPMM"[t]?"majorable":"perfectable",n)}(e)):s(e)?A(e.name):y}const k=[0,2,4,5,7,9,11];const w=(e,t)=>Array(Math.abs(t)+1).join(e);function O(e,t){const n=M(e),a=M(t);if(n.empty||a.empty)return"";const r=n.coord,c=a.coord,i=c[0]-r[0];return function(e){const[t,n=0]=e;return A(h(7*t+12*n<0?[-t,-n,-1]:[t,n,1]))}([i,2===r.length&&2===c.length?c[1]-r[1]:-Math.floor(7*i/12)]).name}function P(e,t){var n=t.map((function(e){return M(e).chroma}));return n.includes(e)?t[n.indexOf(e)]:null}function N(e,t){switch(A(O(e,t)).q){case"dd":return"double-diminished";case"d":return"diminished";case"m":return"minor";case"P":return"perfect";case"M":return"major";case"A":return"augmented";case"AA":return"double-augmented"}}var C=Object(c.createContext)(null);function R(e){for(var t=e.divisions,n=e.children,a=2*Math.PI/t,r=[],c=0;c<t;++c)r.push({start:(c-.5)*a,mid:c*a,end:(c+.5)*a});return i.a.createElement(C.Provider,{value:{angles:r}},n)}function D(e){var t=e.index,n=e.outerRadius,o=e.innerRadius,s=Object(r.a)(e,["index","outerRadius","innerRadius"]),l=Object(c.useContext)(C).angles[t],u=l.start,d=l.end,m="M "+Math.sin(u)*n+" "+-Math.cos(u)*n+"\n              A "+n+" "+n+" 0 0 1 "+Math.sin(d)*n+" "+-Math.cos(d)*n+"\n              L "+Math.sin(d)*o+" "+-Math.cos(d)*o+"\n              A "+o+" "+o+" 0 0 0 "+Math.sin(u)*o+" "+-Math.cos(u)*o+"\n              Z";return m=m.replace(/\s+/g," "),i.a.createElement("path",Object(a.a)({},s,{d:m}))}function S(e){var t=e.index,n=e.radius,a=e.scale,r=void 0===a?1:a,o=e.children,s=Object(c.useContext)(C).angles[t].mid,l="translate("+Math.sin(s)*n+",\n                             "+-Math.cos(s)*n+")\n                   scale("+r+")";return i.a.createElement("g",{transform:l},o)}function G(e){var t=e.indices,n=e.radius,o=Object(r.a)(e,["indices","radius"]),s=Object(c.useContext)(C);if((t=t.filter((function(e,t,n){return n.indexOf(e)===t})).sort((function(e,t){return e-t}))).length>0){var l=t.map((function(e,t){return(0===t?"M":"L")+"\n         "+Math.sin(s.angles[e].mid)*n+"\n         "+-Math.cos(s.angles[e].mid)*n})).join(" ")+" Z";return i.a.createElement("path",Object(a.a)({},o,{d:l}))}return null}n(60);function B(e){var t=e.children.split("/"),n="pitch-label"+(t.length>1?" ambiguous":"");return i.a.createElement("span",{className:n},t.map((function(e,t){return i.a.createElement(F,{key:t},e)})))}function F(e){var t=M(e.children),n=null;return"bb"===t.acc?n=i.a.createElement("span",{className:"accidental double-flat"},"\ud834\udd2b"):"b"===t.acc?n=i.a.createElement("span",{className:"accidental flat"},"\u266d"):"#"===t.acc?n=i.a.createElement("span",{className:"accidental sharp"},"\u266f"):"##"===t.acc&&(n=i.a.createElement("span",{className:"accidental double-sharp"},"\ud834\udd2a")),i.a.createElement("span",{className:"pitch-enharmonic"},t.letter,n,t.oct)}var W=["C","C#/Db","D","D#/Eb","E","F","F#/Gb","G","G#/Ab","A","A#/Bb","B"],z=Symbol(),I=Symbol();function L(e){for(var t=e.scale,n=void 0===t?[]:t,a=e.size,r=void 0===a?100:a,c=e.pitchOrder,o=void 0===c?z:c,s=e.activeNotes,l=void 0===s?[]:s,u=[],d=n[0]||"C",m=M(d).chroma,f=l.map((function(e){return M(e).chroma%12})).filter((function(e,t,n){return n.indexOf(e)===t})),h=0;h<12;++h){var p=(h*(o===I?7:1)+m)%12,b=P(p,n),g=b||W[p];u.push(i.a.createElement(T,{key:h,index:h,pitch:g,root:d,isInScale:!!b,isActive:!!P(p,l),size:r}))}if(l.length>0){var v=f.map((function(e){return(e-m+12)*(o===I?7:1)%12}));u.push(i.a.createElement("g",{className:"active-pitches",key:"active-pitches"},v.map((function(e){return i.a.createElement(D,{key:"active-shape-"+e,index:e,innerRadius:.3*r,outerRadius:.475*r,className:"slice",stroke:"#000",strokeWidth:3,fill:"none"})})),i.a.createElement(G,{key:"active-polygon",className:"polygon",indices:v,radius:.25*r,stroke:"#000",strokeWidth:3,fill:"none"})))}return i.a.createElement("svg",{className:"scale-wheel",width:r,height:r,viewBox:-r/2+" "+-r/2+" "+r+" "+r},i.a.createElement(R,{divisions:12},u))}function T(e){var t=e.index,n=e.pitch,a=e.root,r=e.isInScale,c=e.isActive,o=e.size,s=["pitch-slice"];return r&&s.push(N(a,n)),c&&s.push("active"),i.a.createElement("g",{className:s.join(" ")},i.a.createElement(D,{index:t,innerRadius:.3*o,outerRadius:.475*o,stroke:"#000",fill:"#fff",className:"pitch-shape"}),i.a.createElement(S,{index:t,radius:.39*o,scale:.13*o/20},i.a.createElement("foreignObject",{width:24,height:20,x:-12,y:-10},i.a.createElement(B,null,n))),r?i.a.createElement(i.a.Fragment,null,i.a.createElement(D,{index:t,innerRadius:.2*o,outerRadius:.3*o,stroke:"#000",fill:"#fff"}),i.a.createElement(S,{index:t,radius:.25*o,scale:.13*o/20},i.a.createElement("foreignObject",{width:24,height:20,x:-12,y:-10}))):null)}var $={title:"Scale Wheel"},q={unversionedId:"scale-wheel",id:"scale-wheel",isDocsHomePage:!0,title:"Scale Wheel",source:"@site/docs/scale-wheel.mdx",permalink:"/music-interface-toolkit/toolkit/",editUrl:"https://github.com/NYUMusEdLab/music-interface-toolkit/edit/master/packages/toolkit/docs/scale-wheel.mdx",sidebar:"docs"},U=[],J={rightToc:U};function X(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},J,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)(L,{size:300,scale:["C","D","E","F","G","A","B"],mdxType:"ScaleWheel"}))}X.isMDXComponent=!0}}]);